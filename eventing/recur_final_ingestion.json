[{"appcode":"function generateData() {\n    const custTypes = [\"silver\", \"gold\", \"platinum\"];\n\n    //get random time between -30 and 30 seconds from now\n    const now = new Date();\n    // const randomSeconds = Math.floor(Math.random() * 61) - 30; // Random number between -30 and 30\n    // now.setSeconds(now.getSeconds() + randomSeconds);\n    const time = now.toISOString().slice(0, 16).replace('T', ' ');\n    const timeUnix = Math.floor(now.getTime() / 1000);\n    \n    //generate random user_id, amount and cust_type\n    const userId = Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000;\n    const amount = Math.floor(Math.random() * (999 - 10 + 1)) + 10;\n    const custType = custTypes[Math.floor(Math.random() * custTypes.length)];\n\n    //create JSON object\n    const jsonObject = {\n        time: time,\n        time_unix: timeUnix,\n        user_id: userId,\n        amount: amount,\n        cust_type: custType\n    };\n\n    return jsonObject\n} \n\nfunction generateUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\n\nfunction OnUpdate(doc, meta) {\n    var count = doc.count \n    \n    for (let i = 0; i < count; i++) {\n        var uuid = generateUUID()\n        // generate final data in data collection \"count\" times\n        data_collection[uuid] = generateData()\n    }\n}\n","depcfg":{"buckets":[{"alias":"data_collection","bucket_name":"main","scope_name":"data","collection_name":"data","access":"rw"}],"source_bucket":"main","source_scope":"data","source_collection":"temp","metadata_bucket":"eventing","metadata_scope":"_default","metadata_collection":"_default"},"version":"evt-7.6.1-3200-ee","enforce_schema":false,"handleruuid":3750625694,"function_instance_id":"1oW163","appname":"recur_final_ingestion","settings":{"dcp_stream_boundary":"from_now","deployment_status":false,"description":"","execution_timeout":60,"language_compatibility":"7.2.0","log_level":"INFO","n1ql_consistency":"none","num_timer_partitions":128,"processing_status":false,"timer_context_size":1024,"user_prefix":"eventing","worker_count":6},"function_scope":{"bucket":"*","scope":"*"}}]